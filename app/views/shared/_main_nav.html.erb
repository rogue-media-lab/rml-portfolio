<!-- Header navigation -->
<header class="flex justify-between items-center md:items-stretch w-full my-4" data-controller="mobile-menu dark-mode">
  <div>
    <%= link_to root_path do %>
      <h1 class="text-xl lg:text-4xl font-bold dark:text-milk-light text-base-dark px-3 xl:p-0">
        Rogue Media Lab
      </h1>
    <% end %>
  </div>
  <div class="flex items-center gap-1">
    <!-- Mobile hamburger button -->
    <button
      data-mobile-menu-target="hamburger"
      data-action="click->mobile-menu#toggleMenu"
      class="md:hidden p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"
      aria-label="Toggle mobile menu"
      aria-expanded="false">
      <svg class="w-8 h-8 dark:text-milk-light text-base-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </button>

    <div class="hidden md:flex justify-evenly items-center mt-4 gap-4">
      <%= link_to "https://patreon.com/RogueMediaLab?utm_medium=unknown&utm_source=join_link&utm_campaign=creatorshare_creator&utm_content=copyLink",
              target: "_blank",
              rel: "noopener noreferrer",
              "aria-label": "Support me on Patreon" do %>
        <!-- Patreon Icon -->
        <svg class="w-11 h-11 text-purple-800 dark:text-milk-light" width="44" height="44" viewBox="0 0 640 640" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><<path d="M554 217.8C553.9 152.4 503 98.8 443.3 79.5C369.1 55.5 271.3 59 200.4 92.4C114.6 132.9 87.6 221.7 86.6 310.2C85.8 383 93 574.6 201.2 576C281.5 577 293.5 473.5 330.7 423.7C357.1 388.2 391.2 378.2 433.1 367.8C505.1 350 554.2 293.1 554.1 217.8L554 217.8z"/></svg>
      <% end %>
      <!-- dark mode toggle -->
      <%= render "shared/darkmode_toggle" %>
      <!-- Milk Admin sign in -->
      <%= link_to new_milk_admin_session_path do %>
        <%= image_tag "mug.svg", alt: "admin sign in" %>
      <% end %>
      <!-- User sign in/out -->
      <% if user_signed_in? %>
        <%= link_to destroy_user_session_path, data: { turbo_method: :delete }, class: "flex items-center gap-2" do %>
          <svg class="w-8 h-8 dark:text-milk-light text-base-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
          </svg>
        <% end %>
      <% else %>
        <%= link_to new_user_session_path, class: "flex items-center gap-2" do %>
          <svg class="w-8 h-8 dark:text-milk-light text-base-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"></path>
          </svg>
        <% end %>
      <% end %>
    </div>
  </div>

  <!-- Mobile menu overlay -->
  <div
    data-mobile-menu-target="menu"
    class="hidden fixed inset-0 bg-white dark:bg-base-dark z-50 overflow-y-auto">

    <!-- Mobile menu header -->
    <div class="flex justify-between items-center p-4 border-b dark:border-gray-700">
      <h2 class="text-2xl font-bold dark:text-milk-light text-base-dark">Menu</h2>
      <button
        data-action="click->mobile-menu#close"
        class="p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"
        aria-label="Close mobile menu">
        <svg class="w-8 h-8 dark:text-milk-light text-base-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>

    <!-- Mobile menu content -->
    <nav class="p-4">
      <div class="flex flex-col space-y-3">
        <%= link_to "Welcome", info_welcome_path,
            class: "border dark:border-milk-light border-base-dark rounded-md p-3 w-full text-center dark:text-milk-light text-base-dark hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",
            data: { turbo_frame: "info", action: "click->mobile-menu#closeOnNavigate" } %>

        <%= link_to "Vibe Coding", info_vibe_path,
            class: "border dark:border-milk-light border-base-dark rounded-md p-3 w-full text-center dark:text-milk-light text-base-dark hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",
            data: { turbo_frame: "info", action: "click->mobile-menu#closeOnNavigate" } %>

        <%= link_to "Skills", skills_path,
            class: "border dark:border-milk-light border-base-dark rounded-md p-3 w-full text-center dark:text-milk-light text-base-dark hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",
            data: { turbo_frame: "info", action: "click->mobile-menu#closeOnNavigate" } %>

        <%= link_to "Blog", blogs_path,
            class: "border dark:border-milk-light border-base-dark rounded-md p-3 w-full text-center dark:text-milk-light text-base-dark hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",
            data: { action: "click->mobile-menu#closeOnNavigate" } %>

        <%= link_to "Projects", projects_path,
            class: "border dark:border-milk-light border-base-dark rounded-md p-3 w-full text-center dark:text-milk-light text-base-dark hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",
            data: { turbo_frame: "info", action: "click->mobile-menu#closeOnNavigate" } %>

        <%= link_to "Contact", new_contact_path,
            class: "border dark:border-milk-light border-base-dark rounded-md p-3 w-full text-center dark:text-milk-light text-base-dark hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",
            data: { turbo_frame: "info", action: "click->mobile-menu#closeOnNavigate" } %>

        <%= link_to "Erudition", info_erudition_path,
            class: "border dark:border-milk-light border-base-dark rounded-md p-3 w-full text-center dark:text-milk-light text-base-dark hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",
            data: { turbo_frame: "info", action: "click->mobile-menu#closeOnNavigate" } %>

        <%= link_to "Code - GitHub", "https://github.com/Developer3027",
            class: "border dark:border-milk-light border-base-dark rounded-md p-3 w-full text-center dark:text-milk-light text-base-dark hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",
            target: "_blank",
            data: { action: "click->mobile-menu#closeOnNavigate" } %>

        <% if user_signed_in? %>
          <%= link_to "Sign Out", destroy_user_session_path,
              data: { turbo_method: :delete, action: "click->mobile-menu#closeOnNavigate" },
              class: "border dark:border-milk-light border-base-dark rounded-md p-3 w-full text-center dark:text-milk-light text-base-dark hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors" %>
        <% else %>
          <%= link_to "Sign In", new_user_session_path,
              data: { action: "click->mobile-menu#closeOnNavigate" },
              class: "border dark:border-milk-light border-base-dark rounded-md p-3 w-full text-center dark:text-milk-light text-base-dark hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors" %>
        <% end %>
      </div>

      <!-- Mobile menu footer with icons -->
      <div class="flex justify-center items-center gap-6 mt-8 pt-6 border-t dark:border-gray-700">
        <%= link_to "https://patreon.com/RogueMediaLab?utm_medium=unknown&utm_source=join_link&utm_campaign=creatorshare_creator&utm_content=copyLink",
                target: "_blank",
                rel: "noopener noreferrer",
                "aria-label": "Support me on Patreon" do %>
          <svg class="w-11 h-11 text-purple-800 dark:text-milk-light" width="44" height="44" viewBox="0 0 640 640" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><<path d="M554 217.8C553.9 152.4 503 98.8 443.3 79.5C369.1 55.5 271.3 59 200.4 92.4C114.6 132.9 87.6 221.7 86.6 310.2C85.8 383 93 574.6 201.2 576C281.5 577 293.5 473.5 330.7 423.7C357.1 388.2 391.2 378.2 433.1 367.8C505.1 350 554.2 293.1 554.1 217.8L554 217.8z"/></svg>
        <% end %>

        <!-- Dark mode toggle with unique gradient IDs for mobile -->
        <button type="button"
                class="w-[31px]"
                data-dark-mode-target="themeToggle"
                data-action="click->dark-mode#toggleTheme"
                aria-label="Toggle dark mode">
          <svg width="31" height="42" class="hidden" viewBox="0 0 31 42" fill="none" xmlns="http://www.w3.org/2000/svg" data-dark-mode-target="lightIcon">
            <path d="M10.2966 29.2771V32.2656H20.5583V29.0472" fill="white"/>
            <path d="M10.2966 29.2771V32.2656H20.5583V29.0472" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <ellipse cx="15.4723" cy="15.3972" rx="13.4684" ry="14.2243" fill="url(#paint0_linear_mobile_light)"/>
            <path d="M20.781 35.4824H10.0732C9.08764 35.4824 8.28857 34.659 8.28857 33.6433V33.1835C8.28857 32.6757 8.68811 32.264 9.18089 32.264H21.6733C22.1661 32.264 22.5656 32.6757 22.5656 33.1835V33.6433C22.5656 34.659 21.7666 35.4824 20.781 35.4824Z" fill="#B8CBFF"/>
            <path d="M20.781 35.4824H10.0732C9.08764 35.4824 8.28857 34.659 8.28857 33.6433V33.1835C8.28857 32.6757 8.68811 32.264 9.18089 32.264H21.6733C22.1661 32.264 22.5656 32.6757 22.5656 33.1835V33.6433C22.5656 34.659 21.7666 35.4824 20.781 35.4824Z" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M18.7736 38.2412H12.0813C11.0957 38.2412 10.2966 37.4178 10.2966 36.4021V35.4826H20.5583V36.4021C20.5583 37.4178 19.7592 38.2412 18.7736 38.2412Z" fill="#B8CBFF"/>
            <path d="M18.7736 38.2412H12.0813C11.0957 38.2412 10.2966 37.4178 10.2966 36.4021V35.4826H20.5583V36.4021C20.5583 37.4178 19.7592 38.2412 18.7736 38.2412Z" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M16.3195 41H14.5349C13.5493 41 12.7502 40.1765 12.7502 39.1609V38.2413H18.1041V39.1609C18.1041 40.1765 17.3051 41 16.3195 41Z" fill="#B8CBFF"/>
            <path d="M16.3195 41H14.5349C13.5493 41 12.7502 40.1765 12.7502 39.1609V38.2413H18.1041V39.1609C18.1041 40.1765 17.3051 41 16.3195 41Z" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M18.7737 23.9883C18.7737 22.0839 17.2755 20.54 15.4275 20.54C13.5795 20.54 12.0813 22.0839 12.0813 23.9883H18.7737Z" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M28.02 9.04601C28.9551 10.9851 29.4812 13.1709 29.4812 15.4833C29.4812 22.3758 24.8088 28.144 18.55 29.6074" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12.3044 29.6074C6.04568 28.144 1.37329 22.3758 1.37329 15.4833C1.37329 7.48462 7.66546 1.00039 15.4273 1.00039C17.671 1.00039 19.7918 1.54224 21.6735 2.5057" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M15.4272 32.2656V30.4265" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M7.61963 7.18457C9.40337 5.44938 11.7316 4.30224 14.3122 4.04338" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M4.71973 11.7432C4.93544 11.1255 5.20024 10.5317 5.50898 9.96705" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <ellipse cx="25.0088" cy="5.56946" rx="4.26639" ry="4.39661" fill="white"/>
            <path d="M29.4813 5.59853C29.4813 8.13787 27.4838 10.1963 25.0197 10.1963C22.5556 10.1963 20.5581 8.13787 20.5581 5.59853C20.5581 3.05919 22.5556 1.00077 25.0197 1.00077C27.4838 1.00077 29.4813 3.05919 29.4813 5.59853Z" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M27.2506 5.5976C27.2506 6.86728 26.2519 7.89648 25.0199 7.89648C23.7878 7.89648 22.7891 6.86728 22.7891 5.5976C22.7891 4.32793 23.7878 3.29873 25.0199 3.29873C26.2519 3.29873 27.2506 4.32793 27.2506 5.5976Z" fill="#87B5DF"/>
            <path d="M24.423 15.1295C24.423 17.8558 22.7309 20.0508 20.6813 19.9213C18.7614 19.7999 17.2844 17.577 17.2844 14.994V14.8297C17.2844 14.3329 17.584 13.9302 17.9537 13.9302H23.7537C24.1234 13.9302 24.423 14.3329 24.423 14.8297V15.1295Z" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M13.7154 15.1295C13.7154 17.8558 12.0234 20.0508 9.97373 19.9213C8.05391 19.7999 6.5769 17.577 6.5769 14.994V14.8297C6.5769 14.3329 6.8765 13.9302 7.24614 13.9302H13.0462C13.4158 13.9302 13.7154 14.3329 13.7154 14.8297V15.1295Z" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M13.7156 16.0312H17.2848" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M24.4229 16.0311H29.3306C29.7002 16.0311 29.9998 16.4338 29.9998 16.9306V18.4297" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M9.25395 14.2323L8.58472 15.4316" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M6.57698 16.0311H1.66924C1.2996 16.0311 1 16.4338 1 16.9306V18.4297" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M11.9308 14.2323L10.8154 16.6309" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M19.9615 14.2323L19.2922 15.4316" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M22.6386 14.2323L21.5232 16.6309" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <defs>
              <linearGradient id="paint0_linear_mobile_light" x1="15.4723" y1="1.17285" x2="15.4723" y2="29.6215" gradientUnits="userSpaceOnUse">
                <stop stop-color="#FAFF00"/>
                <stop offset="1" stop-color="white"/>
              </linearGradient>
            </defs>
          </svg>
          <svg width="31" height="42" class="hidden" viewBox="0 0 31 42" fill="none" xmlns="http://www.w3.org/2000/svg" data-dark-mode-target="darkIcon">
            <path d="M10.2065 29.2766V32.2651H20.7938V29.0467" fill="white"/>
            <path d="M10.2065 29.2766V32.2651H20.7938V29.0467" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <ellipse cx="15.5465" cy="15.397" rx="13.8958" ry="14.2241" fill="url(#paint0_linear_mobile_dark)"/>
            <path d="M21.0239 35.4824H9.97628C8.95944 35.4824 8.13501 34.659 8.13501 33.6433V33.1836C8.13501 32.6758 8.54722 32.264 9.05564 32.264H21.9445C22.4529 32.264 22.8651 32.6758 22.8651 33.1836V33.6433C22.8651 34.659 22.0407 35.4824 21.0239 35.4824Z" fill="#B8CBFF"/>
            <path d="M21.0239 35.4824H9.97628C8.95944 35.4824 8.13501 34.659 8.13501 33.6433V33.1836C8.13501 32.6758 8.54722 32.264 9.05564 32.264H21.9445C22.4529 32.264 22.8651 32.6758 22.8651 33.1836V33.6433C22.8651 34.659 22.0407 35.4824 21.0239 35.4824Z" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M18.9526 38.2412H12.0478C11.031 38.2412 10.2065 37.4178 10.2065 36.4021V35.4826H20.7938V36.4021C20.7938 37.4178 19.9694 38.2412 18.9526 38.2412Z" fill="#B8CBFF"/>
            <path d="M18.9526 38.2412H12.0478C11.031 38.2412 10.2065 37.4178 10.2065 36.4021V35.4826H20.7938V36.4021C20.7938 37.4178 19.9694 38.2412 18.9526 38.2412Z" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M16.4203 41.0005H14.5791C13.5622 41.0005 12.7378 40.177 12.7378 39.1614V38.2419H18.2616V39.1614C18.2616 40.177 17.4372 41.0005 16.4203 41.0005Z" fill="#B8CBFF"/>
            <path d="M16.4203 41.0005H14.5791C13.5622 41.0005 12.7378 40.177 12.7378 39.1614V38.2419H18.2616V39.1614C18.2616 40.177 17.4372 41.0005 16.4203 41.0005Z" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M18.9526 23.9888C18.9526 22.0844 17.4069 20.5405 15.5002 20.5405C13.5936 20.5405 12.0479 22.0844 12.0479 23.9888H18.9526Z" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M28.4924 9.04579C29.4572 10.9849 29.9999 13.1706 29.9999 15.483C29.9999 22.3754 25.1792 28.1435 18.7219 29.6069" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12.278 29.6069C5.82067 28.1435 1 22.3754 1 15.483C1 7.48441 7.49185 1.00027 15.5 1.00027C17.8149 1.00027 20.003 1.54211 21.9444 2.50556" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M15.5 32.2651V30.4261" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M7.44434 7.18506C9.28468 5.44989 11.6868 4.30276 14.3493 4.04391" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M4.45264 11.7417C4.6752 11.124 4.9484 10.5302 5.26694 9.96561" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <ellipse cx="25.3857" cy="5.5694" rx="4.40178" ry="4.39655" fill="#4C6984"/>
            <path d="M29.9998 5.59761C29.9998 8.13692 27.939 10.1953 25.3966 10.1953C22.8543 10.1953 20.7935 8.13692 20.7935 5.59761C20.7935 3.0583 22.8543 0.999913 25.3966 0.999913C27.939 0.999913 29.9998 3.0583 29.9998 5.59761Z" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M27.6986 5.59861C27.6986 6.86827 26.6682 7.89746 25.397 7.89746C24.1259 7.89746 23.0955 6.86827 23.0955 5.59861C23.0955 4.32896 24.1259 3.29976 25.397 3.29976C26.6682 3.29976 27.6986 4.32896 27.6986 5.59861Z" fill="#15FF00"/>
            <path d="M17.6465 14.4755C17.6465 16.4788 19.3922 18.0917 21.5069 17.9965C23.4877 17.9073 25.0116 16.2739 25.0116 14.3759V14.0349C25.0116 13.7914 24.8056 13.5942 24.5512 13.5942H18.1068C17.8525 13.5942 17.6465 13.7914 17.6465 14.0349V14.4755Z" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M6.13867 14.4755C6.13867 16.4788 7.88442 18.0917 9.99912 17.9965C11.9799 17.9073 13.5037 16.2739 13.5037 14.3759V14.0349C13.5037 13.7914 13.2977 13.5942 13.0434 13.5942H6.59899C6.34466 13.5942 6.13867 13.7914 6.13867 14.0349V14.4755Z" stroke="#1E1E1E" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
            <defs>
              <linearGradient id="paint0_linear_mobile_dark" x1="15.5465" y1="1.17285" x2="15.5465" y2="29.6211" gradientUnits="userSpaceOnUse">
                <stop stop-color="#4C6984"/>
                <stop offset="1" stop-color="white"/>
              </linearGradient>
            </defs>
          </svg>
        </button>

        <%= link_to new_milk_admin_session_path do %>
          <%= image_tag "mug.svg", alt: "admin sign in" %>
        <% end %>
      </div>
    </nav>
  </div>
</header>
